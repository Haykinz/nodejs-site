{
  "name": "csv",
  "version": "0.0.19",
  "description": "CSV parser with simple api, full of options and tested against large datasets.",
  "author": {
    "name": "David Worms",
    "email": "david@adaltas.com"
  },
  "contributors": [
    {
      "name": "David Worms",
      "email": "david@adaltas.com"
    },
    {
      "name": "Will White",
      "email": "https://github.com/willwhite"
    },
    {
      "name": "Justin Latimer",
      "email": "https://github.com/justinlatimer"
    }
  ],
  "engines": {
    "node": ">= 0.1.90"
  },
  "keywords": [
    "parser",
    "csv"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/wdavidw/node-csv-parser.git"
  },
  "devDependencies": {
    "coffee-script": "latest",
    "mocha": "latest",
    "should": "latest"
  },
  "dependencies": {},
  "optionalDependencies": {},
  "scripts": {
    "test": "make test"
  },
  "homepage": "https://github.com/wdavidw/node-csv-parser",
  "readme": "<pre>\n     _   _           _        _____  _______      __\n    | \\ | |         | |      / ____|/ ____\\ \\    / /\n    |  \\| | ___   __| | ___ | |    | (___  \\ \\  / / \n    | . ` |/ _ \\ / _` |/ _ \\| |     \\___ \\  \\ \\/ /  \n    | |\\  | (_) | (_| |  __/| |____ ____) |  \\  /   \n    |_| \\_|\\___/ \\__,_|\\___| \\_____|_____/    \\/     New BSD License\n\n</pre>\n\nThis project provides CSV parsing and has been tested and used on a large source file (over 2Gb).\n\n-   Support delimiters, quotes and escape characters\n-   Line breaks discovery: line breaks in source are detected and reported to destination\n-   Data transformation\n-   Async and event based\n-   Support for large datasets\n-   Complete test coverage as sample and inspiration\n\nQuick example\n-------------\n\nUsing the library is a 4 steps process:\n\n1.\tCreate a source\n2.\tCreate a destination (optional)\n3.\tTransform the data (optional)\n4.  Listen to events (optional)\n\nHere is a example:\n\n```javascript\n// node samples/sample.js\nvar csv = require('csv');\n\ncsv()\n.fromPath(__dirname+'/sample.in')\n.toPath(__dirname+'/sample.out')\n.transform(function(data){\n\tdata.unshift(data.pop());\n\treturn data;\n})\n.on('data',function(data,index){\n\tconsole.log('#'+index+' '+JSON.stringify(data));\n})\n.on('end',function(count){\n\tconsole.log('Number of lines: '+count);\n})\n.on('error',function(error){\n\tconsole.log(error.message);\n});\n\n// Print sth like:\n// #0 [\"2000-01-01\",\"20322051544\",\"1979.0\",\"8.8017226E7\",\"ABC\",\"45\"]\n// #1 [\"2050-11-27\",\"28392898392\",\"1974.0\",\"8.8392926E7\",\"DEF\",\"23\"]\n// Number of lines: 2\n```\n\nInstalling\n----------\n\nVia git (or downloaded tarball):\n\n```bash\ngit clone http://github.com/wdavidw/node-csv-parser.git\n```\n\nThen, simply copy or link the ./lib/csv.js file into your $HOME/.node_libraries folder or inside a declared path folder.\n\nVia [npm](http://github.com/isaacs/npm):\n\n```bash\nnpm install csv\n```\n\nReading API\n-----------\n\nThe following method are available:\n\n-   *fromPath(data, options)*    \n    Take a file path as first argument and optionally on object of options as a second argument.\n    \n-   *fromStream(readStream, options)*    \n    Take a readable stream as first argument and optionally on object of options as a second argument.\n    \n-   *from(data, options)*    \n    Take a string, a buffer, an array or an object as first argument and optionally some options as a second argument.\n\nOptions are:\n\n-   *delimiter*    \n    Set the field delimiter, one character only, defaults to comma.\n    \n-   *quote*    \n    Set the field delimiter, one character only, defaults to double quotes.\n    \n-   *escape*    \n    Set the field delimiter, one character only, defaults to double quotes.\n    \n-   *columns*    \n    List of fields or true if autodiscovered in the first CSV line, impact the `transform` argument and the `data` event by providing an object instead of an array, order matters, see the transform and the columns sections below.\n\t\n-   *encoding*    \n    Defaults to 'utf8', applied when a readable stream is created.\n\t\n-   *trim*    \n    If true, ignore whitespace immediately around the delimiter, defaults to false.\n\t\n-   *ltrim*    \n    If true, ignore whitespace immediately following the delimiter (i.e. left-trim all fields), defaults to false.\n\t\n-   *rtrim*    \n    If true, ignore whitespace immediately preceding the delimiter (i.e. right-trim all fields), defaults to false.\n\nWriting API\n-----------\n\nThe following methods are available:\n\n-   *write(data, preserve)*    \n    Take a string, an array or an object, implementation of the StreamWriter API.\n\t\n-   *end()*    \n    Terminate the stream, implementation of the StreamWriter API.\n    \n-   *toPath(path, options)*    \n    Take a file path as first argument and optionally on object of options as a second argument.\n    \n-   *toStream(writeStream, options)*    \n    Take a readable stream as first argument and optionally on object of options as a second argument.\n\nOptions are:\n\n-   *delimiter*    \n    Defaults to the delimiter read option.\n    \n-   *quote*    \n    Defaults to the quote read option.\n    \n-   *quoted*    \n    Boolean, default to false, quote all the fields even if not required.\n    \n-   *escape*    \n    Defaults to the escape read option.\n    \n-   *columns*    \n    List of fields, applied when `transform` returns an object, order matters, see the transform and the columns sections below.\n    \n-   *encoding*    \n    Defaults to 'utf8', applied when a writable stream is created.\n    \n-   *header*\n    Display the column names on the first line if the columns option is provided.\n\n-   *lineBreaks*    \n    String used to delimit record rows or a special value; special values are 'auto', 'unix', 'mac', 'windows', 'unicode'; defaults to 'auto' (discovered in source or 'unix' if no source is specified).\n    \n-   *flags*    \n    Defaults to 'w', 'w' to create or overwrite an file, 'a' to append to a file. Applied when using the `toPath` method.\n    \n-   *bufferSize*    \n    Internal buffer holding data before being flushed into a stream. Applied when destination is a stream.\n    \n-   *end*    \n    Prevent calling `end` on the destination, so that destination is no longer writable, similar to passing `{end: false}` option in `stream.pipe()`.\n\n-   *newColumns*\n    If the `columns` option is not specified (which means columns will be taken from the reader\n    options, will automatically append new columns if they are added during `transform()`.\n\nTransforming data\n-----------------\n\n-   *transform(callback)*\n    User provided function call on each line to filter, enrich or modify the dataset. The callback is called asynchronously.\n\nThe contract is quite simple, you receive an array of fields for each record and return the transformed record. The return value may be an array, an associative array, a string or null. If null, the record will simply be skipped.\n\nUnless you specify the `columns` read option, `data` are provided as arrays, otherwise they are objects with keys matching columns names.\n\nWhen the returned value is an array, the fields are merged in order. When the returned value is an object, it will search for the `columns` property in the write or in the read options and smartly order the values. If no `columns` options are found, it will merge the values in their order of appearance. When the returned value is a string, it is directly sent to the destination source and it is your responsibility to delimit, quote, escape or define line breaks.\n\nExample of transform returning a string\n\n```javascript\n// node samples/transform.js\nvar csv = require('csv');\n\ncsv()\n.fromPath(__dirname+'/transform.in')\n.toStream(process.stdout)\n.transform(function(data,index){\n\treturn (index>0 ? ',' : '') + data[0] + \":\" + data[2] + ' ' + data[1];\n});\n\n// Print sth like:\n// 82:Zbigniew Preisner,94:Serge Gainsbourg\n```\n\nEvents\n------\n\nBy extending the Node `EventEmitter` class, the library provides a few useful events:\n\n-\t*data* (function(data, index){})\n    Thrown when a new row is parsed after the `transform` callback and with the data being the value returned by `transform`. Note however that the event won't be called if transform return `null` since the record is skipped.\n\tThe callback provide two arguments:\n\t`data` is the CSV line being processed (by default as an array)\n\t`index` is the index number of the line starting at zero\n    \n-   *end*\n    In case your redirecting the output to a file using the `toPath` method, the event will be called once the writing process is complete and the file closed.\n    \n-   *error*\n    Thrown whenever an error is captured.\n\nColumns\n-------\n\nColumns names may be provided or discovered in the first line with the read options `columns`. If defined as an array, the order must match the one of the input source. If set to `true`, the fields are expected to be present in the first line of the input source.\n\nYou can define a different order and even different columns in the read options and in the write options. If the `columns` is not defined in the write options, it will default to the one present in the read options. \n\nWhen working with fields, the `transform` method and the `data` events receive their `data` parameter as an object instead of an array where the keys are the field names.\n\n```javascript\n// node samples/column.js\nvar csv = require('csv');\n\ncsv()\n.fromPath(__dirname+'/columns.in',{\n\tcolumns: true\n})\n.toStream(process.stdout,{\n\tcolumns: ['id', 'name']\n})\n.transform(function(data){\n\tdata.name = data.firstname + ' ' + data.lastname\n\treturn data;\n});\n\n// Print sth like:\n// 82,Zbigniew Preisner\n// 94,Serge Gainsbourg\n```\n\nRunning the tests\n-----------------\n\nTests are executed with expresso. To install it, simple use `npm install -g expresso`.\n\nTo run the tests\n```bash\nexpresso test\n```\n\nContributors\n------------\n\n*\tDavid Worms : <https://github.com/wdavidw>\n*\tWill White : <https://github.com/willwhite>\n*\tJustin Latimer : <https://github.com/justinlatimer>\n*\tjonseymour : <https://github.com/jonseymour>\n*\tpascalopitz : <https://github.com/pascalopitz>\n*\tJosh Pschorr : <https://github.com/jpschorr>\n*   Elad Ben-Israel: <https://github.com/eladb>\n\nRelated projects\n----------------\n\n*   Pavel Kolesnikov \"ya-csv\": <http://github.com/koles/ya-csv>\n*   Chris Williams \"node-csv\": <http://github.com/voodootikigod/node-csv>\n\n",
  "readmeFilename": "readme.md",
  "_id": "csv@0.0.19",
  "dist": {
    "shasum": "7d72c9f2828566e20754eddfda6650a975ef3d1d"
  },
  "_from": "csv@0.0.19"
}
